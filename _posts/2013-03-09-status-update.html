---
layout: post
title: "Etnaviv status update 2"
author: Wladimir J. van der Laan
permalink: /2013/3/9/status-update
tags: [etna_viv]
categories: [reverse-engineering, gpu]
---
<intro>
<p>The <a href="https://github.com/laanwj/etna_viv/">etna_viv repository</a> has been a bit silent for the last few days. This certainly does not mean that I stopped working on it, but I had to do some other things first to be able to proceed with development.</p>
</intro>

<h3>GK802 Ubuntu</h3>
<p>Setting up my GK802 device to be an Ubuntu PC, so that I can experiment with OpenCL on GC2000 was non-trivial and involves some fiddly bits with <a href="/tags/ttl-232r">attaching serial</a> (see also <a href="/GK802-UART">GK802 pinout</a>), and compiling plus dd'ing a custom U-boot and <a ref="https://github.com/mtx512/linux-imx">kernel</a> to the internal SD. Thanks a lot to <strong>hste</strong>, <strong>jas_hacks</strong> and <strong>abrasive</strong> in #imx6-dongle on Freenode IRC (<a href="http://www.cnx-software.com/2013/02/13/developer-community-for-freescale-i-mx6-hdmi-dongles/">developer community for freescale i.mx6 HDMI dongles</a>).</p>
<p>I've already <a href="https://github.com/laanwj/etna_viv/commit/f7c50ab7bb5c90f097e780d65be4ff3cae994b68">figured out</a> some of the <code>CL</code> state. The etna_viv disassembler currently does have trouble dissecting the new instructions, so that will be next on my list in this regard.</p>

<h3>Gallium</h3>
<p>Learned about the Gallium source code and TGSI. I have been looking at some shaders in TGSI format to see how they compare to Vivante native assembly. I've also integrated the TGSI parsing from the Gallium tree into etna_viv, to set up a sandbox for playing around with conversion of (at first) floating point and branching instructions.</p>

